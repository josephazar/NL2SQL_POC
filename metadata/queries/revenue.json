{
  "datasource": "churn_db",
  "main_table": "subscription",
  "queries": [
    {
      "question": "What is the total MRR by product?",
      "query": "SELECT product, ROUND(SUM(mrr), 2) as total_mrr FROM subscription WHERE end_date IS NULL GROUP BY product ORDER BY total_mrr DESC",
      "reasoning": "Sums monthly recurring revenue for active subscriptions grouped by product."
    },
    {
      "question": "What is our total MRR?",
      "query": "SELECT ROUND(SUM(mrr), 2) as total_mrr FROM subscription WHERE end_date IS NULL",
      "reasoning": "Calculates total monthly recurring revenue from all active subscriptions."
    },
    {
      "question": "What is the average MRR per subscription?",
      "query": "SELECT ROUND(AVG(mrr), 2) as avg_mrr FROM subscription WHERE end_date IS NULL",
      "reasoning": "Calculates average MRR across all active subscriptions."
    },
    {
      "question": "Show me MRR trends over time",
      "query": "SELECT strftime('%Y-%m', start_date) as month, ROUND(SUM(mrr), 2) as total_mrr, COUNT(*) as subscription_count FROM subscription WHERE end_date IS NULL OR end_date >= start_date GROUP BY month ORDER BY month",
      "reasoning": "Shows how MRR has grown over time by grouping active subscriptions by their start month."
    }
  ]
}
